<!DOCTYPE html>
<html lang="en">
<head>
  {{ partial "header.html" . }}

  {{ with resources.Get "css/home.css" }}
    {{ $minifiedCSS := . | resources.Minify }}
    <link rel="stylesheet" href="{{ $minifiedCSS.RelPermalink }}">
  {{ else }}
    {{ warnf "The CSS file 'css/home.css' was not found." }}
  {{ end }}
  <link rel="stylesheet" href="/css/internal.css">
</head>
<body>
  {{ partial "skip-link.html" . }}

  {{- $homeTitle := `CodeFryDev<sup style="font-size: small; font-weight: bold;"> Alpha</sup>` -}}
  {{ partial "page-header.html" (dict "context" . "title" $homeTitle "tagline" "Tools, Games, Art, Animation" "ctas" (slice (dict "label" "Browse AI tools" "url" "/ai" "primary" true) (dict "label" "Games" "url" "/games" "primary" false) (dict "label" "Design lab" "url" "/designlab" "primary" false))) }}

  <main id="main-content" role="main">
    {{ partial "search.html" (dict "containerClass" "search-container" "placeholder" "Search for tools, games, AI apps, design resources..." "autofocus" false "Site" .Site "Scratch" .Scratch) }}
    {{ range .Site.Data.home.categories }}
      <section class="category-section">
        <h2 class="category-title">{{ .name }}</h2>
        <div class="button-grid">
          {{ range .items }}
            {{- $isExternal := or (hasPrefix .url "http://") (hasPrefix .url "https://") -}}
            <a href="{{ .url }}" 
               class="neumorphic-button hapticButton" 
               aria-label="{{ .name }} - {{ .name | lower }} tool"
               {{ if $isExternal }}target="_blank" rel="noopener noreferrer"{{ end }}>
              <img src="images/home/{{ .icon }}.svg" srcset="images/home/{{ .icon }}.svg" alt="{{ .name }} icon" class="button-icon" loading="lazy">
              <span>{{ .name }}</span>
            </a>
          {{ end }}
        </div>
      </section>
    {{ end }}
    {{- if .Content }}
    <section class="home-intro" aria-label="Introduction">
      <div class="home-intro-content">
        {{ .Content }}
      </div>
    </section>
    <p class="home-cta-wrapper">
      <a href="/ai" class="home-cta-secondary">Browse AI tools</a>
      <a href="/games" class="home-cta-secondary">Play games</a>
      <a href="/designlab" class="home-cta-secondary">Design lab</a>
    </p>
    {{- end }}
    {{ partial "faq-section.html" . }}
  </main>
  
  {{ partial "footer.html" . }}
  <script src="/js/search.js"></script>
  <script src="js/feedback.js" ></script>
  <script src="/js/theme.js"></script>
</body>
</html>